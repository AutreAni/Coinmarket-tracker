{"version":3,"sources":["components/Currency.js","actions/fetchCurrency.js","components/Loading.js","components/Error.js","components/MarketData.js","actions/fetchMarketData.js","App.js","reducers/currencyReducer.js","reducers/marketDataReducer.js","store.js","index.js"],"names":["Currency","dispatch","useDispatch","current","useSelector","state","currency","console","log","className","value","onChange","e","axios","get","then","resp","type","payload","rate","data","weightedAvgPrice","catch","err","fetchCurrency","target","Loading","Error","message","style","textAlign","MarketData","marketData","loading","error","useState","bool","setBool","rateVsUSD","useEffect","sortByPrice","fieldname","dataList","length","map","elem","src","image","alt","symbol","name","toUpperCase","current_price","toFixed","price_change_percentage_24h","total_volume","market_cap","total_supply","Math","trunc","id","onClick","App","initialState","currencyReducer","action","marketDataReducer","slice","sort","obj1","obj2","composedEnhancer","composeWithDevTools","applyMiddleware","thunkMiddleware","store","createStore","combineReducers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.90c7eb1b.chunk.js","sourcesContent":["\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchCurrency } from '../actions/fetchCurrency';\r\n\r\n\r\n\r\n\r\nconst Currency = () => {\r\n    const dispatch = useDispatch();\r\n    const current = useSelector(state => state.currency.current);\r\n    const currency = useSelector(state => state.currency);\r\n    console.log(currency)\r\n\r\n    // useEffect(() => {\r\n    //     dispatch(fetchCurrency())\r\n    // }, []);\r\n\r\n    const changeCurrency = e => dispatch(fetchCurrency(e.target.value));\r\n    // console.log(chosenCurrency)\r\n    \r\n    return (\r\n        <div className = \"header\">\r\n         <div className = \"container\">\r\n            <select value={current}\r\n                onChange={changeCurrency}>\r\n                <option value=\"USD\">USD</option>\r\n                <option value=\"CAD\">CAD</option>\r\n                <option value=\"CHF\">CHF</option>\r\n                <option value=\"JPY\">JPY</option>\r\n            </select>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Currency;","import axios from \"axios\";\r\nconst BASE_URL = \"https://api-adapter.backend.currency.com/api/v1/ticker/24hr?symbol=USD/\"\r\n\r\n\r\nexport const fetchCurrency = (currency) => dispatch => {\r\n    if(currency === \"USD\"){\r\n        dispatch({type: 'RESET'});\r\n        return;\r\n    }\r\n    axios.get(`${BASE_URL}${currency}`)    \r\n        .then(resp =>  dispatch({ type: 'SET_CURRENCY', payload:{\r\n                                                        currency,\r\n                                                        rate: resp.data.weightedAvgPrice\r\n        }}))\r\n        .catch(err => console.log(err))\r\n}\r\n\r\n// const API_KEY = \"53ed7d26f11a5b8edbf015419874a258\"\r\n// axios.get(`http://api.exchangeratesapi.io/v1/latest?access_key=${API_KEY}&symbols=THB,USD,AED,AUD,CAD,CHF,EUR,GBP,HDK,JPY`)","import React from 'react';\r\nimport './../css-modules/loading/loading.css';\r\n\r\nconst Loading = () => {\r\n    return (\r\n    <div className =\"container\">\r\n     <div className = \"box\">\r\n        <span className = \"s1\"></span>\r\n        <span className = \"s2\"></span>\r\n        <span className = \"s3\"></span>\r\n     </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Loading","import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n    console.log(message);\r\n    return (\r\n        <div className = \"container\"\r\n        style = {{textAlign: \"center\"}}>\r\n            <h1 className = \"error\">\r\n                We are sorry. Something went wrong\r\n            </h1>\r\n            <p>\r\n                { message }\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import { useSelector, useDispatch } from 'react-redux';\r\nimport { useEffect, useState } from 'react';\r\nimport { fetchMarketData } from '../actions/fetchMarketData';\r\nimport Loading from './Loading';\r\nimport Error from './Error';\r\n\r\n\r\nconst MarketData = () => {\r\n    const {loading, data, error } = useSelector(state => state.marketData);\r\n    const [bool, setBool] = useState(false);\r\n    \r\n    const dispatch = useDispatch();\r\n    const currency = useSelector(state => state.currency);\r\n\r\n    const rateVsUSD = currency.rate;\r\n       \r\n\r\n    useEffect(() => {\r\n        dispatch(fetchMarketData())\r\n    }, []);\r\n\r\n \r\n    const sortByPrice = (fieldname) => {\r\n        dispatch({type: `SORT_FROM_${bool ? \"HIGH_TO_LOW\" : \"LOW_TO_HIGH\"}`, payload: fieldname})\r\n        setBool(!bool);\r\n    };\r\n\r\n    const sortByName = () => {\r\n        dispatch({type: `SORT_FROM_${bool ? \"A_Z\" : \"Z_A\"}`});\r\n        setBool(!bool);\r\n    }\r\n\r\n\r\n    const dataList = data.length? data.map(elem => {\r\n       return <tr key = {elem.id}>\r\n            <td className = \"name-wrapper\"><img src = {elem.image} alt = {elem.symbol}></img>\r\n            <span className = \"coin-name\">{elem.name}</span> </td>\r\n            <td className = \"coin-symbol\">{elem.symbol.toUpperCase()}</td>\r\n            <td>{(elem.current_price * rateVsUSD).toFixed(2)}</td>\r\n            <td className = {`${elem.price_change_percentage_24h > 0 ? \"above\": \"below\"}`}>{elem.price_change_percentage_24h.toFixed(2)}%</td>\r\n            <td>{elem.total_volume * rateVsUSD}</td>\r\n            <td className = \"market-cap\">{elem.market_cap * rateVsUSD}</td>\r\n            <td className = \"supply\">{elem.total_supply? Math.trunc(elem.total_supply) : null}</td>          \r\n        </tr>\r\n    }): null;\r\n\r\n\r\n    return (\r\n        <div className =\"market-data\">\r\n        {data.length? <table>\r\n        <thead>\r\n            <tr>\r\n                <th onClick = {sortByName}>Coin</th>\r\n                <th className = \"coin-symbol\"></th>\r\n                <th onClick = {()=>sortByPrice(\"current_price\")}>Price</th>\r\n                <th onClick = {()=>sortByPrice(\"price_change_percentage_24h\")}>24h</th>\r\n                <th  onClick = {()=>sortByPrice(\"total_volume\")}>24h Volume</th>\r\n                <th className = \"market-cap\" onClick = {()=>sortByPrice(\"market_cap\")}>Mkt Cap</th>\r\n                <th className = \"supply\" onClick = {()=>sortByPrice(\"total_supply\")}>Total Supply</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n                {dataList}\r\n            </tbody>\r\n        </table>\r\n        : null}\r\n        {loading? \r\n        <Loading />\r\n        :null\r\n        }\r\n        {error? \r\n        <Error message = {error} />\r\n        :null\r\n        }\r\n        </div> \r\n     );\r\n}\r\n \r\nexport default MarketData;","import axios from \"axios\";\r\n\r\nconst BASE_URL = `https://api.coingecko.com/api/v3/coins/markets?vs_currency=USD&order=market_cap_desc&per_page=100&page=1&sparkline=false&price_change_percentage='1h%2C24h%2C7d'`;\r\n\r\nexport const fetchMarketData = () => dispatch => {\r\n    dispatch({ type: \"RESQUEST_START\"});\r\n    axios.get(`${BASE_URL}`)\r\n        .then(resp =>  dispatch({ type: 'GET_MARKET_DATA', payload: resp.data}))\r\n        .catch(err => dispatch({ type: \"REQUEST_FAILURE\", payload: err.message}))\r\n}\r\n","import Currency from './components/Currency';\nimport MarketData from './components/MarketData';\n\nfunction App() {\n  // const fakeURl = `https://secret-ocean-49799.herokuapp.com/`;\n \n  return (\n    <div className=\"App\">\n      <Currency />\n      <MarketData />\n    </div>\n  );\n}\n\nexport default App;\n","const initialState = {\r\n    // list: [],\r\n    current: \"USD\",\r\n    rate:1\r\n}\r\n\r\nconst currencyReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"RESET\":\r\n            return {\r\n                ...initialState\r\n            };\r\n        case \"SET_CURRENCY\":\r\n            return {                \r\n                current: action.payload.currency,\r\n                rate:action.payload.rate\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default currencyReducer;","const initialState = {\r\n    error:false,\r\n    loading:false,\r\n    data: []\r\n}\r\n\r\nconst marketDataReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"RESQUEST_START\":\r\n            return {\r\n                data: [],\r\n                loading:true,\r\n                error:false,\r\n            };\r\n        case \"GET_MARKET_DATA\":\r\n            return {\r\n                data: action.payload,\r\n                loading:false,\r\n                error: false,\r\n            };\r\n        case \"REQUEST_FAILURE\":\r\n            return {\r\n                data: [],\r\n                loading:false,\r\n                error: action.payload,\r\n            };\r\n        case \"SORT_FROM_A_Z\":\r\n            return {\r\n                ...state,\r\n                data: state.data.slice().sort((obj1, obj2)=> (obj1.name > obj2.name) ? 1: ((obj2.name > obj1.name)? -1 : 0))\r\n            };\r\n        case \"SORT_FROM_Z_A\":\r\n            return {\r\n                ...state,\r\n                data: state.data.slice().sort((obj1, obj2)=> (obj2.name > obj1.name) ? 1: ((obj1.name > obj2.name)? -1 : 0))\r\n            };\r\n            \r\n        case \"SORT_FROM_LOW_TO_HIGH\":\r\n            return {\r\n                ...state,\r\n                data: state.data.slice().sort((obj1, obj2) => obj1[action.payload] - obj2[action.payload])\r\n            };\r\n        case \"SORT_FROM_HIGH_TO_LOW\":\r\n            return {\r\n                ...state,\r\n                data: state.data.slice().sort((obj1, obj2) => obj2[action.payload] - obj1[action.payload])\r\n            }    \r\n     \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default marketDataReducer;","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport currencyReducer from './reducers/currencyReducer';\r\nimport marketDataReducer from './reducers/marketDataReducer';\r\n\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nconst composedEnhancer = composeWithDevTools(\r\n    applyMiddleware(thunkMiddleware)\r\n  );\r\n\r\nconst store = createStore(combineReducers(\r\n    {\r\n        currency: currencyReducer,\r\n        marketData: marketDataReducer,\r\n    }\r\n), composedEnhancer);\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './store'\n\nReactDOM.render(\n  <Provider store = { store }>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}