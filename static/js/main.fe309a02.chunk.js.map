{"version":3,"sources":["components/Currency.js","actions/fetchCurrency.js","components/Loading.js","components/Error.js","components/MarketData.js","actions/fetchMarketData.js","App.js","reducers/currencyReducer.js","reducers/marketDataReducer.js","store.js","index.js"],"names":["Currency","dispatch","useDispatch","current","useSelector","state","currency","useEffect","axios","get","then","resp","type","payload","data","rates","catch","err","console","log","className","value","onChange","e","target","Loading","Error","message","style","textAlign","MarketData","marketData","loading","error","useState","bool","setBool","rateVsEur","list","length","find","elem","sortByPrice","fieldname","dataList","map","src","image","alt","symbol","name","current_price","toFixed","price_change_percentage_24h","total_volume","market_cap","total_supply","Math","trunc","id","onClick","App","initialState","currencyReducer","action","Object","entries","marketDataReducer","slice","sort","obj1","obj2","composedEnhancer","composeWithDevTools","applyMiddleware","thunkMiddleware","store","createStore","combineReducers","ReactDOM","render","document","getElementById"],"mappings":"uNAwCeA,EAhCE,WACb,IAAMC,EAAWC,cACXC,EAAUC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,SAASH,WAEpDI,qBAAU,WACNN,GCX2B,SAAAA,GAC/BO,IAAMC,IAAN,4FACKC,MAAK,SAAAC,GAAI,OAAKV,EAAS,CAAEW,KAAM,qBAAsBC,QAAQF,EAAKG,KAAKC,WACvEC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,WDS3B,IAKH,OACI,qBAAKG,UAAY,SAAjB,SACC,qBAAKA,UAAY,YAAjB,SACG,yBAAQC,MAAOlB,EACXmB,SAPW,SAAAC,GAAC,OAAItB,EAAS,CAACW,KAAM,eAAgBC,QAASU,EAAEC,OAAOH,SAMtE,UAEI,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,MAAd,yB,QElBDI,G,MAZC,WACZ,OACA,qBAAKL,UAAW,YAAhB,SACC,sBAAKA,UAAY,MAAjB,UACG,sBAAMA,UAAY,OAClB,sBAAMA,UAAY,OAClB,sBAAMA,UAAY,cCQXM,EAfD,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAEb,OADAT,QAAQC,IAAIQ,GAER,sBAAKP,UAAY,YACjBQ,MAAS,CAACC,UAAW,UADrB,UAEI,oBAAIT,UAAY,QAAhB,gDAGA,4BACMO,QCmEHG,EAvEI,WACf,MAAgC1B,aAAY,SAAAC,GAAK,OAAIA,EAAM0B,cAApDC,EAAP,EAAOA,QAASlB,EAAhB,EAAgBA,KAAMmB,EAAtB,EAAsBA,MACtB,EAAwBC,oBAAS,GAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAEMnC,EAAWC,cACXI,EAAWF,aAAY,SAAAC,GAAK,OAAIA,EAAMC,YAEtC+B,EAAY/B,EAASgC,KAAKC,OAAQjC,EAASgC,KAAKE,MAAK,SAAAC,GAAI,OAAIA,EAAK,KAAKnC,EAASH,WAAS,GAAK,EAGpGI,qBAAU,WACNN,GCd6B,SAAAA,GACjCA,EAAS,CAAEW,KAAM,mBACjBJ,IAAMC,IAAN,UAJU,qKAKLC,MAAK,SAAAC,GAAI,OAAKV,EAAS,CAAEW,KAAM,kBAAmBC,QAASF,EAAKG,UAChEE,OAAM,SAAAC,GAAG,OAAIhB,EAAS,CAAEW,KAAM,kBAAmBC,QAASI,EAAIU,kBDWhE,IAGH,IAAMe,EAAc,SAACC,GACjB1C,EAAS,CAACW,KAAK,aAAD,OAAeuB,EAAO,cAAgB,eAAiBtB,QAAS8B,IAC9EP,GAASD,IASPS,EAAW9B,EAAKyB,OAAQzB,EAAK+B,KAAI,SAAAJ,GACpC,OAAO,+BACF,qBAAIrB,UAAY,eAAhB,UAA+B,qBAAK0B,IAAOL,EAAKM,MAAOC,IAAOP,EAAKQ,SACnE,sBAAM7B,UAAY,YAAlB,SAA+BqB,EAAKS,OADpC,OAEA,oBAAI9B,UAAY,cAAhB,SAA+BqB,EAAKQ,SACpC,8BAAMR,EAAKU,cAAgBd,GAAWe,QAAQ,KAC9C,qBAAIhC,UAAS,UAAOqB,EAAKY,4BAA8B,EAAI,QAAS,SAApE,UAAgFZ,EAAKY,4BAA4BD,QAAQ,GAAzH,OACA,6BAAKX,EAAKa,aAAejB,IACzB,oBAAIjB,UAAY,aAAhB,SAA8BqB,EAAKc,WAAalB,IAChD,oBAAIjB,UAAY,SAAhB,SAA0BqB,EAAKe,aAAcC,KAAKC,MAAMjB,EAAKe,cAAgB,SARhEf,EAAKkB,OAUtB,KAGJ,OACI,sBAAKvC,UAAW,cAAhB,UACCN,EAAKyB,OAAQ,kCACd,gCACI,+BACI,oBAAIqB,QAzBG,WACf3D,EAAS,CAACW,KAAK,aAAD,OAAeuB,EAAO,MAAQ,SAC5CC,GAASD,IAuBD,kBACA,oBAAIf,UAAY,gBAChB,oBAAIwC,QAAW,kBAAIlB,EAAY,kBAA/B,mBACA,oBAAIkB,QAAW,kBAAIlB,EAAY,gCAA/B,iBACA,oBAAKkB,QAAW,kBAAIlB,EAAY,iBAAhC,wBACA,oBAAItB,UAAY,aAAawC,QAAW,kBAAIlB,EAAY,eAAxD,qBACA,oBAAItB,UAAY,SAASwC,QAAW,kBAAIlB,EAAY,iBAApD,+BAGJ,gCACKE,OAGP,KACDZ,EACD,cAAC,EAAD,IACC,KAEAC,EACD,cAAC,EAAD,CAAON,QAAWM,IACjB,SE1DM4B,MAXf,WAGE,OACE,sBAAKzC,UAAU,MAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,Q,sBCTA0C,EAAe,CACjBxB,KAAM,GACNnC,QAAS,OAsBE4D,EAnBS,WAAmC,IAAlC1D,EAAiC,uDAAzByD,EAAcE,EAAW,uCACtD,OAAQA,EAAOpD,MACX,IAAK,qBACD,MAAO,CACH0B,KAAK2B,OAAOC,QAAQF,EAAOnD,SAC3BV,QAAS,OAEjB,IAAK,eACD,OAAO,2BACAE,GADP,IAEIF,QAAS6D,EAAOnD,UAExB,QACI,OAAOR,IClBbyD,EAAe,CACjB7B,OAAM,EACND,SAAQ,EACRlB,KAAM,IAoDKqD,EAjDW,WAAmC,IAAlC9D,EAAiC,uDAAzByD,EAAcE,EAAW,uCACxD,OAAQA,EAAOpD,MACX,IAAK,iBACD,MAAO,CACHE,KAAM,GACNkB,SAAQ,EACRC,OAAM,GAEd,IAAK,kBACD,MAAO,CACHnB,KAAMkD,EAAOnD,QACbmB,SAAQ,EACRC,OAAO,GAEf,IAAK,kBACD,MAAO,CACHnB,KAAM,GACNkB,SAAQ,EACRC,MAAO+B,EAAOnD,SAEtB,IAAK,gBACD,OAAO,2BACAR,GADP,IAEIS,KAAMT,EAAMS,KAAKsD,QAAQC,MAAK,SAACC,EAAMC,GAAP,OAAgBD,EAAKpB,KAAOqB,EAAKrB,KAAQ,EAAKqB,EAAKrB,KAAOoB,EAAKpB,MAAQ,EAAI,OAEjH,IAAK,gBACD,OAAO,2BACA7C,GADP,IAEIS,KAAMT,EAAMS,KAAKsD,QAAQC,MAAK,SAACC,EAAMC,GAAP,OAAgBA,EAAKrB,KAAOoB,EAAKpB,KAAQ,EAAKoB,EAAKpB,KAAOqB,EAAKrB,MAAQ,EAAI,OAGjH,IAAK,wBACD,OAAO,2BACA7C,GADP,IAEIS,KAAMT,EAAMS,KAAKsD,QAAQC,MAAK,SAACC,EAAMC,GAAP,OAAgBD,EAAKN,EAAOnD,SAAW0D,EAAKP,EAAOnD,cAEzF,IAAK,wBACD,OAAO,2BACAR,GADP,IAEIS,KAAMT,EAAMS,KAAKsD,QAAQC,MAAK,SAACC,EAAMC,GAAP,OAAgBA,EAAKP,EAAOnD,SAAWyD,EAAKN,EAAOnD,cAGzF,QACI,OAAOR,I,QC1CbmE,EAAmBC,8BACrBC,0BAAgBC,MAULC,EAPDC,sBAAYC,0BACtB,CACIxE,SAAUyD,EACVhC,WAAYoC,IAEjBK,GCTHO,IAASC,OACP,cAAC,IAAD,CAAUJ,MAAUA,EAApB,SACE,cAAC,EAAD,MAEFK,SAASC,eAAe,W","file":"static/js/main.fe309a02.chunk.js","sourcesContent":["\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useEffect } from 'react';\r\nimport { fetchCurrency } from '../actions/fetchCurrency';\r\n\r\n\r\n\r\n\r\nconst Currency = () => {\r\n    const dispatch = useDispatch();\r\n    const current = useSelector(state => state.currency.current);\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchCurrency())\r\n    }, []);\r\n\r\n    const changeCurrency = e => dispatch({type: \"SET_CURRENCY\", payload: e.target.value });\r\n    // console.log(chosenCurrency)\r\n    \r\n    return (\r\n        <div className = \"header\">\r\n         <div className = \"container\">\r\n            <select value={current}\r\n                onChange={changeCurrency}>\r\n                <option value=\"THB\">THB</option>\r\n                <option value=\"USD\">USD</option>\r\n                <option value=\"AED\">AED</option>\r\n                <option value=\"AUD\">AUD</option>\r\n                <option value=\"CAD\">CAD</option>\r\n                <option value=\"CHF\">CHF</option>\r\n                <option value=\"EUR\">EUR</option>\r\n                <option value=\"GBP\">GBP</option>\r\n                <option value=\"HDK\">HDK</option>\r\n                <option value=\"JPY\">JPY</option>\r\n            </select>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Currency;","import axios from \"axios\";\r\nconst API_KEY = \"c42a0bf6dee14c66ce9cb743fb004374\"\r\nexport const fetchCurrency = () => dispatch => {\r\n    axios.get(`http://api.exchangeratesapi.io/v1/latest?symbols=THB,USD,AED,AUD,CAD,CHF,EUR,GBP,HDK,JPY`)\r\n        .then(resp =>  dispatch({ type: 'GET_CURRENCY_RATES', payload:resp.data.rates}))\r\n        .catch(err => console.log(err))\r\n}\r\n\r\n","import React from 'react';\r\nimport './../css-modules/loading/loading.css';\r\n\r\nconst Loading = () => {\r\n    return (\r\n    <div className =\"container\">\r\n     <div className = \"box\">\r\n        <span className = \"s1\"></span>\r\n        <span className = \"s2\"></span>\r\n        <span className = \"s3\"></span>\r\n     </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Loading","import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n    console.log(message);\r\n    return (\r\n        <div className = \"container\"\r\n        style = {{textAlign: \"center\"}}>\r\n            <h1 className = \"error\">\r\n                We are sorry. Something went wrong\r\n            </h1>\r\n            <p>\r\n                { message }\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import { useSelector, useDispatch } from 'react-redux';\r\nimport { useEffect, useState } from 'react';\r\nimport { fetchMarketData } from '../actions/fetchMarketData';\r\nimport Loading from './Loading';\r\nimport Error from './Error';\r\n\r\n\r\nconst MarketData = () => {\r\n    const {loading, data, error } = useSelector(state => state.marketData);\r\n    const [bool, setBool] = useState(false);\r\n    \r\n    const dispatch = useDispatch();\r\n    const currency = useSelector(state => state.currency);\r\n\r\n    const rateVsEur = currency.list.length? currency.list.find(elem => elem[0]===currency.current)[1] : 1;\r\n       \r\n\r\n    useEffect(() => {\r\n        dispatch(fetchMarketData())\r\n    }, []);\r\n\r\n \r\n    const sortByPrice = (fieldname) => {\r\n        dispatch({type: `SORT_FROM_${bool ? \"HIGH_TO_LOW\" : \"LOW_TO_HIGH\"}`, payload: fieldname})\r\n        setBool(!bool);\r\n    };\r\n\r\n    const sortByName = () => {\r\n        dispatch({type: `SORT_FROM_${bool ? \"A_Z\" : \"Z_A\"}`});\r\n        setBool(!bool);\r\n    }\r\n\r\n\r\n    const dataList = data.length? data.map(elem => {\r\n       return <tr key = {elem.id}>\r\n            <td className = \"name-wrapper\"><img src = {elem.image} alt = {elem.symbol}></img>\r\n            <span className = \"coin-name\">{elem.name}</span> </td>\r\n            <td className = \"coin-symbol\">{elem.symbol}</td>\r\n            <td>{(elem.current_price * rateVsEur).toFixed(2)}</td>\r\n            <td className = {`${elem.price_change_percentage_24h > 0 ? \"above\": \"below\"}`}>{elem.price_change_percentage_24h.toFixed(2)}%</td>\r\n            <td>{elem.total_volume * rateVsEur}</td>\r\n            <td className = \"market-cap\">{elem.market_cap * rateVsEur}</td>\r\n            <td className = \"supply\">{elem.total_supply? Math.trunc(elem.total_supply) : null}</td>          \r\n        </tr>\r\n    }): null;\r\n\r\n\r\n    return (\r\n        <div className =\"market-data\">\r\n        {data.length? <table>\r\n        <thead>\r\n            <tr>\r\n                <th onClick = {sortByName}>Coin</th>\r\n                <th className = \"coin-symbol\"></th>\r\n                <th onClick = {()=>sortByPrice(\"current_price\")}>Price</th>\r\n                <th onClick = {()=>sortByPrice(\"price_change_percentage_24h\")}>24h</th>\r\n                <th  onClick = {()=>sortByPrice(\"total_volume\")}>24h Volume</th>\r\n                <th className = \"market-cap\" onClick = {()=>sortByPrice(\"market_cap\")}>Mkt Cap</th>\r\n                <th className = \"supply\" onClick = {()=>sortByPrice(\"total_supply\")}>Total Supply</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n                {dataList}\r\n            </tbody>\r\n        </table>\r\n        : null}\r\n        {loading? \r\n        <Loading />\r\n        :null\r\n        }\r\n        {error? \r\n        <Error message = {error} />\r\n        :null\r\n        }\r\n        </div> \r\n     );\r\n}\r\n \r\nexport default MarketData;","import axios from \"axios\";\r\n\r\nconst BASE_URL = `https://api.coingecko.com/api/v3/coins/markets?vs_currency=EUR&order=market_cap_desc&per_page=100&page=1&sparkline=false&price_change_percentage='1h%2C24h%2C7d'`;\r\n\r\nexport const fetchMarketData = () => dispatch => {\r\n    dispatch({ type: \"RESQUEST_START\"});\r\n    axios.get(`${BASE_URL}`)\r\n        .then(resp =>  dispatch({ type: 'GET_MARKET_DATA', payload: resp.data}))\r\n        .catch(err => dispatch({ type: \"REQUEST_FAILURE\", payload: err.message}))\r\n}\r\n","import Currency from './components/Currency';\nimport MarketData from './components/MarketData';\n\nfunction App() {\n  // const fakeURl = `https://secret-ocean-49799.herokuapp.com/`;\n \n  return (\n    <div className=\"App\">\n      <Currency />\n      <MarketData />\n    </div>\n  );\n}\n\nexport default App;\n","const initialState = {\r\n    list: [],\r\n    current: \"EUR\",\r\n}\r\n\r\nconst currencyReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"GET_CURRENCY_RATES\":\r\n            return {\r\n                list:Object.entries(action.payload),\r\n                current: \"EUR\",\r\n            };\r\n        case \"SET_CURRENCY\":\r\n            return {\r\n                ...state,\r\n                current: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default currencyReducer;","const initialState = {\r\n    error:false,\r\n    loading:false,\r\n    data: []\r\n}\r\n\r\nconst marketDataReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"RESQUEST_START\":\r\n            return {\r\n                data: [],\r\n                loading:true,\r\n                error:false,\r\n            };\r\n        case \"GET_MARKET_DATA\":\r\n            return {\r\n                data: action.payload,\r\n                loading:false,\r\n                error: false,\r\n            };\r\n        case \"REQUEST_FAILURE\":\r\n            return {\r\n                data: [],\r\n                loading:false,\r\n                error: action.payload,\r\n            };\r\n        case \"SORT_FROM_A_Z\":\r\n            return {\r\n                ...state,\r\n                data: state.data.slice().sort((obj1, obj2)=> (obj1.name > obj2.name) ? 1: ((obj2.name > obj1.name)? -1 : 0))\r\n            };\r\n        case \"SORT_FROM_Z_A\":\r\n            return {\r\n                ...state,\r\n                data: state.data.slice().sort((obj1, obj2)=> (obj2.name > obj1.name) ? 1: ((obj1.name > obj2.name)? -1 : 0))\r\n            };\r\n            \r\n        case \"SORT_FROM_LOW_TO_HIGH\":\r\n            return {\r\n                ...state,\r\n                data: state.data.slice().sort((obj1, obj2) => obj1[action.payload] - obj2[action.payload])\r\n            };\r\n        case \"SORT_FROM_HIGH_TO_LOW\":\r\n            return {\r\n                ...state,\r\n                data: state.data.slice().sort((obj1, obj2) => obj2[action.payload] - obj1[action.payload])\r\n            }    \r\n     \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default marketDataReducer;","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport currencyReducer from './reducers/currencyReducer';\r\nimport marketDataReducer from './reducers/marketDataReducer';\r\n\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nconst composedEnhancer = composeWithDevTools(\r\n    applyMiddleware(thunkMiddleware)\r\n  );\r\n\r\nconst store = createStore(combineReducers(\r\n    {\r\n        currency: currencyReducer,\r\n        marketData: marketDataReducer,\r\n    }\r\n), composedEnhancer);\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './store'\n\nReactDOM.render(\n  <Provider store = { store }>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}